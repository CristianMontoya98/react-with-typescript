import Head from 'next/head';
import { MouseEventHandler, useState } from 'react';
import { RandomFox } from '@/components/randomFox';
import { random } from '../utils/randomNumber';

type ImageItem = { id: string; url: string };
const generateId = () => Math.random().toString(36).substr(2, 9);

export default function Home() {
	const alt: string = 'imagen aleatoria de zorro';
	const [images, setImages] = useState<ImageItem[]>([]);

	const addNewFox: MouseEventHandler<HTMLButtonElement> = (event) => {
		event.preventDefault();
		const newImageItem: ImageItem = {
			id: generateId(),
			url: `https://randomfox.ca/images/${random()}.jpg`,
		};
		setImages([...images, newImageItem]);
	};
	return (
		<>
			<Head>
				<title>React with TS</title>
				<meta
					name='description'
					content='Generated by create next app'
				/>
				<meta
					name='viewport'
					content='width=device-width, initial-scale=1'
				/>
				<link
					rel='icon'
					href='/favicon.ico'
				/>
			</Head>
			<div>
				<main>
					<h1 className='text-4xl'>react with typescript</h1>
					<button onClick={addNewFox}> Add new fox</button>
					{images.map(({ id, url }) => (
						<div
							key={id}
							className='p-4'
						>
							<RandomFox
								image={url}
								alt={alt}
							/>
						</div>
					))}
				</main>
				<footer></footer>
			</div>
		</>
	);
}
